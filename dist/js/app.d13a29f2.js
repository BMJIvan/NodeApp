(function(){"use strict";var e={8106:function(e,t,a){var r=a(9963),o=a(2923),n=(a(4415),a(137)),l=a(6252),i=a(3577);const s=e=>((0,l.dD)("data-v-7d02eb97"),e=e(),(0,l.Cn)(),e),u=s((()=>(0,l._)("h3",null,"Node App",-1))),d=(0,l.Uk)("Execute Node Code"),c=(0,l.Uk)("Make Python Code"),p=(0,l.Uk)("Clear Editor"),g=(0,l.Uk)("Import Editor"),h=(0,l.Uk)("Export Editor"),f=["data-node"],v=s((()=>(0,l._)("span",null,"Python Code:",-1))),m={id:"pythonCode"},b={class:"dialog-footer"},y=(0,l.Uk)("Cancel"),N=(0,l.Uk)("Confirm"),O=s((()=>(0,l._)("span",null,"Data:",-1))),w={id:"importData"},M={class:"dialog-footer"},C=(0,l.Uk)("Cancel"),S=(0,l.Uk)("Confirm"),E=s((()=>(0,l._)("span",null,"Data:",-1))),k={id:"exportData"},_={class:"dialog-footer"},x=(0,l.Uk)("Cancel"),F=(0,l.Uk)("Confirm");function j(e,t,a,r,o,n){const s=(0,l.up)("el-container"),j=(0,l.up)("el-button"),V=(0,l.up)("el-header"),H=(0,l.up)("el-aside"),I=(0,l.up)("el-main"),D=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"name"},{default:(0,l.w5)((()=>[u])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"header"},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{type:"primary",onClick:r.executeNodeCode},{default:(0,l.w5)((()=>[d])),_:1},8,["onClick"]),(0,l.Wm)(j,{type:"primary",onClick:r.pythonCode},{default:(0,l.w5)((()=>[c])),_:1},8,["onClick"]),(0,l.Wm)(j,{type:"primary",onClick:r.clearEditor},{default:(0,l.w5)((()=>[p])),_:1},8,["onClick"]),(0,l.Wm)(j,{type:"primary",onClick:r.importEditor},{default:(0,l.w5)((()=>[g])),_:1},8,["onClick"]),(0,l.Wm)(j,{type:"primary",onClick:r.exportEditor},{default:(0,l.w5)((()=>[h])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"container"},{default:(0,l.w5)((()=>[(0,l.Wm)(H,{width:"250px",class:"column"},{default:(0,l.w5)((()=>[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.listNodes,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e,draggable:"true","data-node":e.item,onDragstart:t[0]||(t[0]=e=>r.drag(e)),class:"drag-drawflow"},[(0,l._)("div",{class:"node",style:(0,i.j5)(`background: ${e.color}`)},(0,i.zw)(e.name),5)],40,f)))),128))])])),_:1}),(0,l.Wm)(I,null,{default:(0,l.w5)((()=>[(0,l._)("div",{id:"drawflow",onDrop:t[1]||(t[1]=e=>r.drop(e)),onDragover:t[2]||(t[2]=e=>r.allowDrop(e))},null,32)])),_:1})])),_:1})])),_:1}),(0,l.Wm)(D,{modelValue:r.dialogVisiblePythonCode,"onUpdate:modelValue":t[5]||(t[5]=e=>r.dialogVisiblePythonCode=e),title:"pythonCode",width:"50%"},{footer:(0,l.w5)((()=>[(0,l._)("span",b,[(0,l.Wm)(j,{onClick:t[3]||(t[3]=e=>r.dialogVisiblePythonCode=!1)},{default:(0,l.w5)((()=>[y])),_:1}),(0,l.Wm)(j,{type:"primary",onClick:t[4]||(t[4]=e=>r.dialogVisiblePythonCode=!1)},{default:(0,l.w5)((()=>[N])),_:1})])])),default:(0,l.w5)((()=>[v,(0,l._)("pre",null,[(0,l._)("code",m,(0,i.zw)(r.dialogPythonCode),1)])])),_:1},8,["modelValue"]),(0,l.Wm)(D,{modelValue:r.dialogVisibleImport,"onUpdate:modelValue":t[8]||(t[8]=e=>r.dialogVisibleImport=e),title:"Import",width:"50%"},{footer:(0,l.w5)((()=>[(0,l._)("span",M,[(0,l.Wm)(j,{onClick:t[6]||(t[6]=e=>r.dialogVisibleImport=!1)},{default:(0,l.w5)((()=>[C])),_:1}),(0,l.Wm)(j,{type:"primary",onClick:t[7]||(t[7]=e=>(r.dialogVisibleImport=!1,r.importDataConfirm()))},{default:(0,l.w5)((()=>[S])),_:1})])])),default:(0,l.w5)((()=>[O,(0,l._)("pre",null,[(0,l._)("code",w,(0,i.zw)(r.dialogDataImport),1)])])),_:1},8,["modelValue"]),(0,l.Wm)(D,{modelValue:r.dialogVisibleExport,"onUpdate:modelValue":t[11]||(t[11]=e=>r.dialogVisibleExport=e),title:"Export",width:"50%"},{footer:(0,l.w5)((()=>[(0,l._)("span",_,[(0,l.Wm)(j,{onClick:t[9]||(t[9]=e=>r.dialogVisibleExport=!1)},{default:(0,l.w5)((()=>[x])),_:1}),(0,l.Wm)(j,{type:"primary",onClick:t[10]||(t[10]=e=>(r.dialogVisibleExport=!1,r.exportDataConfirm()))},{default:(0,l.w5)((()=>[F])),_:1})])])),default:(0,l.w5)((()=>[E,(0,l._)("p",k,(0,i.zw)(r.dialogDataExport),1)])),_:1},8,["modelValue"]),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"console"},{default:(0,l.w5)((()=>[(0,l.Uk)("Console: "+(0,i.zw)(r.consoleData),1)])),_:1}),(0,l.Wm)(s,{class:"requests"},{default:(0,l.w5)((()=>[(0,l.Uk)("Requests: "+(0,i.zw)(r.requestsData),1)])),_:1})])),_:1})],64)}var V=a(283),H=a.n(V),I=a(2262);const D={ref:"el"},J=(0,l._)("br",null,null,-1),W=(0,l._)("br",null,null,-1),L=(0,l.Uk)("Var");function P(e,t,a,r,o,n){const i=(0,l.up)("nodeHeader"),s=(0,l.up)("el-option"),u=(0,l.up)("el-select"),d=(0,l.up)("el-input");return(0,l.wg)(),(0,l.iD)("div",D,[(0,l.Wm)(i,{title:"Numeric"}),(0,l.Wm)(u,{modelValue:e.method,"onUpdate:modelValue":t[0]||(t[0]=t=>e.method=t),placeholder:"Select",onChange:e.updateSelect,size:"small","df-method":""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.options,(e=>((0,l.wg)(),(0,l.j4)(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),J,W,(0,l.Wm)(d,{modelValue:e.valueVar,"onUpdate:modelValue":t[1]||(t[1]=t=>e.valueVar=t),"df-valueVar":"",placeholder:"Please input",size:"small"},{prepend:(0,l.w5)((()=>[L])),_:1},8,["modelValue"])],512)}const R={class:"header"};function U(e,t,a,r,o,n){return(0,l.wg)(),(0,l.iD)("div",R,(0,i.zw)(e.title),1)}var q=(0,l.aZ)({props:["title"]}),T=a(3744);const z=(0,T.Z)(q,[["render",U],["__scopeId","data-v-27f331dd"]]);var Z=z,Y=(0,l.aZ)({components:{nodeHeader:Z},setup(){const e=(0,I.iH)(null),t=(0,I.iH)(0);let a=null;const r=(0,I.iH)(""),o=(0,I.iH)(""),n=(0,I.iH)({}),i=(0,I.OT)([{value:"float",label:"float"},{value:"int",label:"int"}]);a=(0,l.FN)().appContext.config.globalProperties.$df.value;const s=e=>{n.value.data.method=e,a.updateNodeDataFromId(t.value,n.value)};return(0,l.bv)((async()=>{await(0,l.Y3)(),t.value=e.value.parentElement.parentElement.id.slice(5),n.value=a.getNodeFromId(t.value),r.value=n.value.data.valueVar,o.value=n.value.data.method})),{el:e,valueVar:r,method:o,options:i,updateSelect:s}}});const A=(0,T.Z)(Y,[["render",P]]);var X=A;const $={ref:"el"};function B(e,t,a,r,o,n){const i=(0,l.up)("nodeHeader"),s=(0,l.up)("el-option"),u=(0,l.up)("el-select");return(0,l.wg)(),(0,l.iD)("div",$,[(0,l.Wm)(i,{title:"Logic"}),(0,l.Wm)(u,{modelValue:e.method,"onUpdate:modelValue":t[0]||(t[0]=t=>e.method=t),placeholder:"Select",onChange:e.updateSelect,size:"small","df-method":""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.options,(e=>((0,l.wg)(),(0,l.j4)(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])],512)}var K=(0,l.aZ)({components:{nodeHeader:Z},setup(){const e=(0,I.iH)(null),t=(0,I.iH)(0);let a=null;const r=(0,I.iH)(""),o=(0,I.iH)({}),n=(0,I.OT)([{value:"is equal to",label:"is equal to"},{value:"is less than",label:"is less than"},{value:"is greater than",label:"is greater than"},{value:"is less or equal than",label:"is less or equal than"},{value:"is greater or equal than",label:"is greater or equal than"}]);a=(0,l.FN)().appContext.config.globalProperties.$df.value;const i=e=>{o.value.data.method=e,a.updateNodeDataFromId(t.value,o.value)};return(0,l.bv)((async()=>{await(0,l.Y3)(),t.value=e.value.parentElement.parentElement.id.slice(5),o.value=a.getNodeFromId(t.value),r.value=o.value.data.method})),{el:e,method:r,options:n,updateSelect:i}}});const G=(0,T.Z)(K,[["render",B]]);var Q=G;const ee={ref:"el"};function te(e,t,a,r,o,n){const i=(0,l.up)("nodeHeader"),s=(0,l.up)("el-option"),u=(0,l.up)("el-select");return(0,l.wg)(),(0,l.iD)("div",ee,[(0,l.Wm)(i,{title:"Math"}),(0,l.Wm)(u,{modelValue:e.method,"onUpdate:modelValue":t[0]||(t[0]=t=>e.method=t),placeholder:"Select",onChange:e.updateSelect,size:"small","df-method":""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.options,(e=>((0,l.wg)(),(0,l.j4)(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])],512)}var ae=(0,l.aZ)({components:{nodeHeader:Z},setup(){const e=(0,I.iH)(null),t=(0,I.iH)(0);let a=null;const r=(0,I.iH)(""),o=(0,I.iH)({}),n=(0,I.OT)([{value:"sum",label:"sum"},{value:"rest",label:"rest"},{value:"multiplication",label:"multiplication"},{value:"divide",label:"divide"},{value:"pow",label:"pow"}]);a=(0,l.FN)().appContext.config.globalProperties.$df.value;const i=e=>{o.value.data.method=e,a.updateNodeDataFromId(t.value,o.value)};return(0,l.bv)((async()=>{await(0,l.Y3)(),t.value=e.value.parentElement.parentElement.id.slice(5),o.value=a.getNodeFromId(t.value),r.value=o.value.data.method})),{el:e,method:r,options:n,updateSelect:i}}});const re=(0,T.Z)(ae,[["render",te]]);var oe=re;const ne={ref:"el"};function le(e,t,a,r,o,n){const i=(0,l.up)("nodeHeader");return(0,l.wg)(),(0,l.iD)("div",ne,[(0,l.Wm)(i,{title:"IFELSE"})],512)}var ie=(0,l.aZ)({components:{nodeHeader:Z}});const se=(0,T.Z)(ie,[["render",le]]);var ue=se;const de={ref:"el"};function ce(e,t,a,r,o,n){const i=(0,l.up)("nodeHeader");return(0,l.wg)(),(0,l.iD)("div",de,[(0,l.Wm)(i,{title:"FOR"})],512)}var pe=(0,l.aZ)({components:{nodeHeader:Z}});const ge=(0,T.Z)(pe,[["render",ce]]);var he=ge;a(6699);class fe{constructor(){this.mensaje="funcion",this.nodes=[],this.data={},this.pythonCode="new code"}executeNodeCode(e){var{bool:t,Msg:a}=this.getNodes(e);if(0==t)return a;var{bool:r,Msg:o}=this.validateNodes();if(0==r)return o;var{bool:n,Msg:l}=this.validateInputsOutputs();if(0==n)return l;var{bool:i,Msg:s}=this.createTree();if(0==i)return s;var{bool:u,Msg:d}=this.executionErrors();if(0==u)return d;var c=this.executeProgram();return c}makePythonCode(e){var{bool:t,Msg:a}=this.getNodes(e);if(0==t)return a;var{bool:r,Msg:o}=this.validateNodes();if(0==r)return o;var{bool:n,Msg:l}=this.validateInputsOutputs();if(0==n)return l;var{bool:i,Msg:s}=this.createTree();if(0==i)return s;var{bool:u,Msg:d}=this.executionErrors();return 0==u?d:(this.getPythonCode(),this.pythonCode)}getNodes(e){this.data=e.drawflow.Home.data,this.nodes=[];var t=0;for(let a in this.data)this.nodes[t]=a,t++;return this.nodes.length<=0?{bool:!1,Msg:"No nodes"}:{bool:!0,Msg:"No problems"}}validateNodes(){let e="",t="";var a="";for(let r in this.nodes){e="",t="";let o=this.data[this.nodes[r]];if('"Numeric"'==JSON.stringify(o.name)){if(!JSON.stringify(o.data).includes("method"))return{bool:!1,Msg:"Select variable type of Numeric node"};if(e=JSON.stringify(o.data.data.method).replace(/"/g,""),!JSON.stringify(o.data).includes("valuevar"))return{bool:!1,Msg:"Write a value in Numeric Node"};if(t=JSON.stringify(o.data.valuevar).replace(/"/g,""),a=t.match(/^\d+(\.\d+)/g),null!=a){if(a[0].length!=t.length)return{bool:!1,Msg:"Variable float in Numeric Node is not correct"};if("int"==e)return{bool:!1,Msg:"Variable float in Numeric Node but requires int"};continue}if(a=t.match(/^\d+/g),null!=a){if(1==t.includes("."))return{bool:!1,Msg:"Variable float not complete"};if(a[0].length!=t.length)return{bool:!1,Msg:"Variable int in Numeric Node is not correct"};if("float"==e)return{bool:!1,Msg:"Variable int in Numeric Node but requires float"};continue}return{bool:!1,Msg:"Variable in Numeric Node is not a number"}}if('"Math"'==JSON.stringify(o.name)&&0==JSON.stringify(o).includes("method"))return{bool:!1,Msg:"Select operation in Math node"};if('"Logic"'==JSON.stringify(o.name)&&0==JSON.stringify(o).includes("method"))return{bool:!1,Msg:"Select operation in Logic node"}}return{bool:!0,Msg:"Nodes validated"}}validateInputsOutputs(){let e=0,t="",a="";var r=["inputs","outputs"],o=[!1,!1],n="inputs";for(let l in this.nodes){let i=this.data[this.nodes[l]];o[0]=0!=Object.keys(i.inputs).length,o[1]=0!=Object.keys(i.outputs).length;for(let l=0;l<2;l++)if(n=r[l],o[l]){let r=Object.keys(i[n]);for(let o in r){if(e=Object.keys(i[n][r[o]].connections).length,t=JSON.stringify(r[o]),a=i.name,0==e&&"outputs"==n&&"Numeric"==a)return{bool:!1,Msg:"It is missing a connection in "+t+" from the node "+a};if(e>1&&"outputs"!=n)return{bool:!1,Msg:"There are too many connections in "+t+" from the node "+a}}}}return{bool:!0,Msg:"Inputs and Outputs validated"}}createTree(){let e="",t=[],a=[],r=0;a[e]=t,this.tree=[["",[]]];var o=Object.keys(this.data).length;for(let s=0;s<o;s++){var n=Object.keys(this.data)[s];if(Object.values(this.data[n].inputs).length>0){var l=Object.keys(this.data[n].inputs).length;e="",t=[],a=[];for(let a=0;a<l;a++){var i=Object.values(this.data[n].inputs)[a].connections.length;0!=i&&(e=JSON.stringify(n).replace(/"/g,"'"),t.push(JSON.stringify(Object.values(Object.values(this.data[n].inputs)[a].connections)[0].node).replace(/"/g,"")))}t.length>0&&(a[e]=t,this.tree[r]=a,r++)}}return""==this.tree[0][0]&&0==this.tree[0][1].length?{bool:!1,Msg:"There are only Numeric Nodes"}:{bool:!0,Msg:"Tree created without problems"}}executionErrors(){var e=[],t=[],a="",r="",o="",n=this.tree.length,l=[];for(let s=0;s<n;s++)a=JSON.stringify(Object.keys(this.tree)[s]).replace(/"/g,""),r=JSON.stringify(Object.keys(this.tree[a])[0]).replace(/"/g,"").replace(/'/g,""),l[s]=r,e[s]=!1,t[s]=this.getName(r,this.nodes,this.data);function i(a,r){var n=[],s=l.indexOf(a);if(-1==s)return{bool:!0,Msg:"Numeric"};if(1==e[s])return{bool:!0,Msg:t[s]};var u=JSON.stringify(Object.keys(r)[s]).replace(/"/g,""),d=Object.values(r[u])[0].length;for(let e=0;e<d;e++){o=Object.values(r[u])[0][e];let{bool:t,Msg:a}=i(o,r);if(0==t)return{bool:t,Msg:a};n.push(a)}e[s]=!0;var c="FOR"==n[0]||"Numeric"==n[0]||"Math"==n[0],p="FOR"==n[1]||"Numeric"==n[1]||"Math"==n[1];switch(t[s]){case"Logic":return 1==c&&1==p?{bool:!0,Msg:"Logic"}:{bool:!1,Msg:"Execution Error: Nodes in inputs of Logic Node must return a Numeric value"};case"Math":return c!=p?{bool:!1,Msg:"Execution Error: inputs are not the same in the Math Node"}:{bool:!0,Msg:"Math"};case"FOR":return"Math"!=n[2]?{bool:!1,Msg:"Execution Error: For Node only accepts a Math node"}:{bool:!0,Msg:"For"};case"IFELSE":return"Logic"!=n[0]?{bool:!1,Msg:"Execution Error: the IF/ELSE Node requires a Logic Node in 'input_1'"}:(c="FOR"==n[1]||"Numeric"==n[1]||"Math"==n[1],p="FOR"==n[2]||"Numeric"==n[2]||"Math"==n[2],1==c&&1==p?(t[s]="Numeric",{bool:!0,Msg:"Numeric"}):n[1]!=n[2]?{bool:!1,Msg:"error: inputs are not the same in the IFELSE node"}:(t[s]="Logic",{bool:!0,Msg:"Logic"}))}return{bool:!1,Msg:"Node type not found, modify drawflowExtend.js to add a new node"}}for(let s=0;s<n;s++){a=JSON.stringify(Object.keys(this.tree)[s]).replace(/"/g,""),r=JSON.stringify(Object.keys(this.tree[a])[0]).replace(/"/g,"").replace(/'/g,"");let{bool:e,Msg:t}=i(r,this.tree);if(0==e)return{bool:e,Msg:t}}return{bool:!0,Msg:"No execution errors"}}executeProgram(){var e=[],t=[],a="",r="",o="",n=this.tree.length,l=[];let i=this.getRoot();for(let m=0;m<n;m++)a=JSON.stringify(Object.keys(this.tree)[m]).replace(/"/g,""),r=JSON.stringify(Object.keys(this.tree[a])[0]).replace(/"/g,"").replace(/'/g,""),l[m]=r,e[m]=!1,t[m]=this.getName(r,this.nodes,this.data);let s=this.getValue,u=this.getName,d=this.mathOperations,c=this.logicOperators,p=this.getMethod;function g(e,t,a,r,o){let n=a;for(let l=e;l<t;l++)n=d(a,r,o),a=n;return n}function h(e,a,r,n,i){if("Numeric"==u(e,n,r))return 1==i?s(e,n,r):"Numeric,"+s(e,n,r)+",";var f=[],v=l.indexOf(e),m=JSON.stringify(Object.keys(a)[v]).replace(/"/g,""),b=Object.values(a[m])[0].length;for(let t=0;t<b;t++)o=Object.values(a[m])[0][t],f.push(o);var y="",N="",O="",w="",M=0,C=0,S=0,E=0,k=0,_="";switch(t[v]){case"Logic":return y=h(f[0],a,r,n,i),N=h(f[1],a,r,n,i),O=p(e,n,r),1==i?(w=c(parseFloat(y),parseFloat(N),O),w.toString()):"Logic,"+y+","+N+","+O+",";case"Math":return y=h(f[0],a,r,n,i),N=h(f[1],a,r,n,i),O=p(e,n,r),1==i?(w=d(parseFloat(y),parseFloat(N),O),w.toString()):"Math,"+y+N+O+",";case"FOR":var x=h(f[0],a,r,n,!0),F=h(f[1],a,r,n,!0),j=h(f[2],a,r,n,!1);k=j.indexOf(","),_=j.substring(0,k),S=0,E=0;var V=j.split(",");return y=V[2],N=V[4],O=V[5],M=parseFloat(y),C=parseFloat(N),1==i?g(Math.round(parseFloat(x)),Math.round(parseFloat(F)),M,C,O).toString():"FOR,"+x+","+F+","+y+","+N+","+O+",";case"IFELSE":var H=h(f[0],a,r,n,!0),I=h(f[1],a,r,n,!1),D=h(f[2],a,r,n,!1),J="";if(J="true"==H?I:D,0==i)return J;if(k=J.indexOf(","),_=J.substring(0,k),S=0,E=0,"Numeric"==_)return S=J.indexOf(","),E=J.indexOf(",",++S),J.substring(S,E);var W=[];if("FOR"!=_){S=J.indexOf(",");for(let e=0;e<3;e++)E=J.indexOf(",",++S),W.push(J.substring(S,E)),S=E;if(M="int"==f[1]?parseInt(W[0]):parseFloat(W[0]),C="int"==f[2]?parseInt(W[1]):parseFloat(W[1]),"Logic"==_)return console.log(c(parseFloat(W[0]),parseFloat(W[1]),W[2])),c(M,C,W[2]).toString();if("Math"==_)return d(M,C,W[2]).toString()}if("FOR"==_){S=J.indexOf(",");for(let e=0;e<7;e++)E=J.indexOf(",",++S),W.push(J.substring(S,E)),S=E;return g(Math.round(parseFloat(W[0])),Math.round(parseFloat(W[1])),parseFloat(W[2]),parseFloat(W[3]),W[4])}}return"Node not found"}var f=l[parseInt(i)];let v="";return v=h(f,this.tree,this.data,this.nodes,!0),v}getPythonCode(){var e=[],t=[],a=0,r="",o="",n="",l=this.tree.length,i=[],s=[],u=[];let d=this.getRoot();for(let E=0;E<l;E++)r=JSON.stringify(Object.keys(this.tree)[E]).replace(/"/g,""),o=JSON.stringify(Object.keys(this.tree[r])[0]).replace(/"/g,"").replace(/'/g,""),i[E]=o,e[E]=!1,t[E]=this.getName(o,this.nodes,this.data);let c=this.getValue,p=this.getName,g=this.mathOperationsPython,h=this.logicOperatorsPython,f=this.getMethod,v=this.getNamePython,m=this.indentCode;function b(e,l,d,y,N){if("Numeric"==p(e,y,d)){var O="N"+e;return-1==s.indexOf(O)&&(s.push(O),u.push(c(e,y,d))),O}var w=[],M=i.indexOf(e);r=JSON.stringify(Object.keys(l)[M]).replace(/"/g,""),o=JSON.stringify(Object.keys(l[r])[0]).replace(/"/g,"").replace(/'/g,""),a=Object.values(l[r])[0].length;for(let t=0;t<a;t++)n=Object.values(l[r])[0][t],w.push(n);var C="",S="",E="",k="",_="";switch(t[M]){case"Logic":return C=b(w[0],l,d,y,!1),S=b(w[1],l,d,y,!1),E=f(e,y,d),"\nL"+e+" = ( "+C+" "+h(E)+" "+S+" )";case"Math":var x="";C=b(w[0],l,d,y,!1),S=b(w[1],l,d,y,!1),E=f(e,y,d),k=p(w[0],y,d),_=v(k);var F=_+w[0];return"N"!=_&&(x+=C,C=F),k=p(w[1],y,d),_=v(k),F=_+w[1],"N"!=_&&(x+=S,S=F),1==N?C+","+S+","+E+",":x+"\nM"+e+" = "+C+" "+g(E)+" "+S;case"FOR":var j=b(w[0],l,d,y,!0),V=b(w[1],l,d,y,!0),H=b(w[2],l,d,y,!0),I=H.split(",");return"\nF"+e+" = "+I[0]+"\nfor _ in range("+j+", "+V+"):\n\tF"+e+" = F"+e+" "+g(I[2])+" "+I[1];case"IFELSE":var D="\nIE"+e+"=",J=b(w[0],l,d,y,!1),W=b(w[1],l,d,y,!1),L=b(w[2],l,d,y,!1);k=p(w[1],y,d),_=v(k);var P=_+w[1];P="N"==_?D+P:W+D+P,k=p(w[2],y,d),_=v(k);var R=_+w[2];if(R="N"==_?D+R:L+D+R,P=m(P),R=m(R),1!=N){var U=J+"\nif(L"+w[0]+"):"+P+" \nelse:"+R;return U}break}return"Node not found"}var y=i[parseInt(d)];let N="";N=b(y,this.tree,this.data,this.nodes,!1);var O=s.length,w="";for(let E=0;E<O;E++)w=w+"\n"+s[E]+" = "+u[E];var M=w+N;M=M.replace("\n","");var C=p(y,this.nodes,this.data),S=v(C);this.pythonCode=M+"\nprint("+S+y+")"}getRoot(){var e=[],t=[],a=[],r="",o="",n=this.tree.length,l=[];for(let c=0;c<n;c++)r=JSON.stringify(Object.keys(this.tree)[c]).replace(/"/g,""),o=JSON.stringify(Object.keys(this.tree[r])[0]).replace(/"/g,"").replace(/'/g,""),l[c]=o,e[c]=!1,t[c]=this.getName(o,this.nodes,this.data);function i(t,r){var o=l.indexOf(t);if(-1==o)return 1;if(1==e[o])return a[o];var n=JSON.stringify(Object.keys(r)[o]).replace(/"/g,""),s=Object.values(r[n])[0].length,u=0,d="";for(let e=0;e<s;e++)d=Object.values(r[n])[0][e],u+=i(d,r);return a[o]=u,e[o]=!0,a[o]}for(let c=0;c<n;c++)r=JSON.stringify(Object.keys(this.tree)[c]).replace(/"/g,""),o=JSON.stringify(Object.keys(this.tree[r])[0]).replace(/"/g,"").replace(/'/g,""),i(o,this.tree);var s=0,u=-1,d=0;for(let c in a)u++,a[c]>s&&(s=a[c],d=u);return d}getName(e,t,a){for(let r in t){let o=a[t[r]],n=JSON.stringify(o.id);if(n==e)return JSON.stringify(o.name).replace(/"/g,"")}return""}getValue(e,t,a){for(let r in t){let o=a[t[r]],n=JSON.stringify(o.id);if(n==e&&"Numeric"==JSON.stringify(o.name).replace(/"/g,""))return JSON.stringify(o.data.valuevar).replace(/"/g,"")}return console.log("this node does not have values"),""}getMethod(e,t,a){for(let o in t){let n=a[t[o]],l=JSON.stringify(n.id);if(l==e){var r=JSON.stringify(n.name).replace(/"/g,"");if("Math"==r||"Logic"==r)return JSON.stringify(n.data.data.method).replace(/"/g,"")}}return console.log("this node does not have values"),""}logicOperators(e,t,a){switch(a){case"is equal to":return e==t;case"is less than":return e<t;case"is greater than":return e>t;case"is less or equal than":return e<=t;case"is greater or equal than":return e>=t}}mathOperations(e,t,a){switch(a){case"sum":return e+t;case"rest":return e-t;case"multiplication":return e*t;case"divide":return e/t;case"pow":return Math.pow(e,t)}}logicOperatorsPython(e){switch(e){case"is equal to":return"==";case"is less than":return"<";case"is greater than":return">";case"is less or equal than":return"<=";case"is greater or equal than":return">="}}mathOperationsPython(e){switch(e){case"sum":return"+";case"rest":return"-";case"multiplication":return"*";case"divide":return"/";case"pow":return"**"}}getNamePython(e){switch(e){case"Numeric":return"N";case"Logic":return"L";case"FOR":return"F";case"IFELSE":return"IE";case"Math":return"M"}}indentCode(e){var t=e.replaceAll("\n","\n\t");return t}}var ve=a(9669),me=a.n(ve),be={name:"drawflowApp",setup(){const e=(0,I.OT)([{name:"Numeric",color:"gray",item:"Numeric",input:0,output:1},{name:"Logic",color:"green",item:"Logic",input:2,output:1},{name:"Math",color:"brown",item:"Math",input:2,output:1},{name:"IF/ELSE",color:"blue",item:"IFELSE",input:3,output:1},{name:"FOR",color:"black",item:"FOR",input:3,output:1}]),t=(0,I.XI)({}),a=(0,I.iH)(!1),o=(0,I.iH)(!1),n=(0,I.iH)(!1),i=(0,I.iH)({}),s=(0,I.iH)({}),u=(0,I.iH)(""),d={version:3,h:l.h,render:r.sY},c=(0,l.FN)();c.appContext.app._context.config.globalProperties.$df=t;const p=(0,I.XI)({}),g=(0,I.iH)(""),h=(0,I.iH)("");function f(){g.value=p.value.executeNodeCode(t.value.export())}function v(){u.value=p.value.makePythonCode(t.value.export()),n.value=!0}function m(){t.value.import({drawflow:{Home:{data:{}}}})}function b(){o.value=!0,me().get("http://localhost:3000/readEditor").then((e=>{s.value=e.data})).catch((e=>h.value=e))}function y(){"Empty"!=s.value?(t.value.import(JSON.parse(s.value.replace('\\"',"'"))),h.value="Imported"):h.value="Empty"}function N(){i.value=t.value.export(),a.value=!0}function O(){var e=JSON.stringify(i.value);me().get("http://localhost:3000/saveEditor?Editor="+e).then((e=>{h.value=e.data})).catch((e=>h.value=e)),a.value=!1}const w=e=>{"touchstart"===e.type?S=e.target.closest(".drag-drawflow").getAttribute("data-node"):e.dataTransfer.setData("node",e.target.getAttribute("data-node"))},M=e=>{if("touchend"===e.type){var t=document.elementFromPoint(E.touches[0].clientX,E.touches[0].clientY).closest("#drawflowApp");null!=t&&_(S,E.touches[0].clientX,E.touches[0].clientY),S=""}else{e.preventDefault();var a=e.dataTransfer.getData("node");_(a,e.clientX,e.clientY)}},C=e=>{e.preventDefault()};let S="",E=null;function k(e){E=e}function _(a,r,o){r=r*(t.value.precanvas.clientWidth/(t.value.precanvas.clientWidth*t.value.zoom))-t.value.precanvas.getBoundingClientRect().x*(t.value.precanvas.clientWidth/(t.value.precanvas.clientWidth*t.value.zoom)),o=o*(t.value.precanvas.clientHeight/(t.value.precanvas.clientHeight*t.value.zoom))-t.value.precanvas.getBoundingClientRect().y*(t.value.precanvas.clientHeight/(t.value.precanvas.clientHeight*t.value.zoom));const n=e.find((e=>e.item==a));t.value.addNode(a,n.input,n.output,r,o,a,{},a,"vue")}return(0,l.bv)((()=>{for(var e=document.getElementsByClassName("drag-drawflow"),a=0;a<e.length;a++)e[a].addEventListener("touchend",M,!1),e[a].addEventListener("touchmove",k,!1),e[a].addEventListener("touchstart",w,!1);const r=document.getElementById("drawflow");p.value=new fe,t.value=new(H())(r,d,c.appContext.app._context),t.value.start(),t.value.registerNode("Numeric",X,{},{}),t.value.registerNode("Logic",Q,{},{}),t.value.registerNode("Math",oe,{},{}),t.value.registerNode("IFELSE",ue,{},{}),t.value.registerNode("FOR",he,{},{}),t.value.import({drawflow:{Home:{data:{}}}})})),{exportEditor:N,importEditor:b,listNodes:e,drag:w,drop:M,allowDrop:C,dialogVisibleExport:a,dialogVisibleImport:o,dialogDataExport:i,dialogDataImport:s,importDataConfirm:y,exportDataConfirm:O,clearEditor:m,pythonCode:v,dialogPythonCode:u,dialogVisiblePythonCode:n,executeNodeCode:f,consoleData:g,requestsData:h}},data(){return{NodeApp_pro:""}},methods:{mostrarConsola(){console.log("funcion trasferida")}}};const ye=(0,T.Z)(be,[["render",j],["__scopeId","data-v-7d02eb97"]]);var Ne=ye,Oe={__name:"App",setup(e){return(e,t)=>((0,l.wg)(),(0,l.j4)(Ne))}};const we=Oe;var Me=we;const Ce=(0,r.ri)(Me);Ce.use(o.Z),Ce.use(n),Ce.mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,n){if(!r){var l=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],n=e[d][2];for(var i=!0,s=0;s<r.length;s++)(!1&n||l>=n)&&Object.keys(a.O).every((function(e){return a.O[e](r[s])}))?r.splice(s--,1):(i=!1,n<l&&(l=n));if(i){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,n,l=r[0],i=r[1],s=r[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(s)var d=s(a)}for(t&&t(r);u<l.length;u++)n=l[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},r=self["webpackChunkprueba"]=self["webpackChunkprueba"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(8106)}));r=a.O(r)})();
//# sourceMappingURL=app.d13a29f2.js.map